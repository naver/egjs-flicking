/*
Copyright (c) 2017 NAVER Corp.
@egjs/flicking-plugins project is licensed under the MIT <https://naver.github.io/egjs/license.txt> license

@egjs/flicking-plugins JavaScript library
https://github.com/naver/egjs-flicking

@version 0.0.5-snapshot
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@egjs/flicking")):"function"==typeof define&&define.amd?define(["exports","@egjs/flicking"],e):e((t.eg=t.eg||{},t.eg.Flicking=t.eg.Flicking||{},t.eg.Flicking.plugin={}),t.eg.Flicking)}(this,function(t,e){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var i=e.utils,s=i.extend(i.extend({},e.consts),{DIRECTION_NONE:e.DIRECTION_NONE,DIRECTION_LEFT:e.DIRECTION_LEFT,DIRECTION_RIGHT:e.DIRECTION_RIGHT,DIRECTION_UP:e.DIRECTION_UP,DIRECTION_DOWN:e.DIRECTION_DOWN,DIRECTION_HORIZONTAL:e.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:e.DIRECTION_VERTICAL,DIRECTION_ALL:e.DIRECTION_ALL}),o=function(){var t=function(){function t(t){void 0===t&&(t={}),this.options=t}var e=t.prototype;return e.$componentWillMount=function(t){return this.$$=t,this.useWillChange="transform"===t.$container.style.willChange,this.useLayerHack=this.getInstanceConf().useLayerHack,this.bindEvents(),this.$componentMount(),this.$componentDidMount(),this},e.$componentDidMount=function(){return this},e.$componentWillUnmount=function(){var e=this;Object.keys(this).forEach(function(t){e[t]=null})},e.getInstanceConf=function(){return this.$$._conf},e.bindEvents=function(){this.$$.on({flick:this._onFlick.bind(this),flickEnd:this._onFlickEnd.bind(this),restore:this._onRestore.bind(this)})},e._onFlick=function(t){var e=t.pos,i=this.$$._conf.panel,n=null!=t.distance?t.distance:e-i.size*i.index;this.onFlick&&this.onFlick(t,n)},e._onFlickEnd=function(t){var e=(t.direction&s.DIRECTION_LEFT?"next":t.direction&s.DIRECTION_RIGHT&&"prev")||"";e&&this.arrange&&this.arrange(e),this.onFlickEnd&&this.onFlickEnd(t)},e._onRestore=function(t){this.onRestore&&this.onRestore(t)},t}();return t.utils=i,t.consts=s,t.VERSION="2.4.4",t}(),r=function(e){function t(t){return e.call(this,{selector:t})||this}n(t,e);var i=t.prototype;return i.$componentMount=function(){return this.details=o.utils.toArray(this.$$.$wrapper.querySelectorAll(this.options.selector)),this._build(),this.resize(),this},i._build=function(){this.details=[this.details.pop()].concat(this.details)},i._setSelected=function(t,e){var i=o.utils;i.classList(i.css(this.details[t],{opacity:""}),"selected",e)},i.resize=function(){this.size=this.getInstanceConf().panel.size,this.onRestore("resize")},i.arrange=function(t){"resize"!==t&&(this.details="next"===t?this.details.concat(this.details.shift()):[this.details.pop()].concat(this.details)),this._setSelected(1,!0),/next|resize/.test(t)&&this._setSelected(0,!1),/prev|resize/.test(t)&&this._setSelected(2,!1)},i.onFlick=function(t,e){var i=t.pos%this.size/this.size,n=o.utils;if(!(Math.abs(e)>=this.size)){var s=0<e&&i<=.5&&1-2*i||e<0&&.5<i&&2*(i-.5);void 0!==s&&n.css(this.details[1],{opacity:s})}},i.onRestore=function(){this.arrange("resize")},i.get=function(){return this.details[1]},t}(o),c=function(e){function t(t){return e.call(this,{selector:t})||this}n(t,e);var i=t.prototype;return i.$componentMount=function(){var e=this;return this.imgs=this.$$.getAllElements().map(function(t){return t.querySelector(e.options.selector)}),this.resize(),this._build(),this},i._build=function(){var n=this,s=o.utils,r=this._getCurrIndex();s.css(this.getInstanceConf().panel.$list,{overflow:"hidden"}),this.imgs.forEach(function(t,e){var i=-50;e<r?i=50:r===e&&(i=0),n.useWillChange&&s.css(t,{willChange:"transform"}),n._setTranslate(t,i+"%",0)})},i._setTranslate=function(t,e,i){return t&&o.utils.css(t,{transform:o.utils.translate.apply(null,this.$$._getDataByDirection([e,i]).concat(this.useLayerHack))}),t},i._getCurrIndex=function(){return this.getInstanceConf().panel.currIndex},i._getPanel=function(){var t=this._getCurrIndex();return{prev:this.imgs[t-1],curr:this.imgs[t],next:this.imgs[t+1]}},i.arrange=function(t){this.$$.options.circular&&"resize"!==t&&(this.imgs="next"===t?this.imgs.concat(this.imgs.shift()):[this.imgs.pop()].concat(this.imgs));var e=this._getPanel();this._setTranslate(e.curr,0,0),/next|resize/.test(t)&&this._setTranslate(e.next,"50%",0),/prev|resize/.test(t)&&this._setTranslate(e.prev,"-50%",0)},i.onFlick=function(t,e){var i=this,n=t.pos,s=this.size,r=n%s/2,o=-(s/2-r);if(!(Math.abs(e)>=s)){var c=this._getPanel(),a=[];0<e&&c.next?(a.push({el:c.curr,x:r}),a.push({el:c.next,x:o})):e<0&&c.prev&&(a.push({el:c.curr,x:o}),a.push({el:c.prev,x:r})),a.forEach(function(t){return i._setTranslate(t.el,t.x+"px",0)})}},i.onRestore=function(){this.arrange("resize")},i.resize=function(){this.size=this.getInstanceConf().panel.size,this.onRestore("resize")},i.get=function(){return this.imgs[this._getCurrIndex()]},t}(o);t.OpacityEffect=r,t.ParallaxEffect=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=all.min.js.map
